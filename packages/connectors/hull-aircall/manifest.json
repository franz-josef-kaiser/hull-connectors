{
  "name": "Aircall",
  "description": "Capture Aircall Events",
  "tags": [
    "incoming",
    "oneColumn"
  ],
  "picture": "picture.png",
  "ui": false,
  "readme": "readme.md",
  "version": "0.1.8-monorepo",
  "private_settings": [
    {
      "name": "oauth",
      "title": "Oauth",
      "type": "string",
      "format": "oauth",
      "description": "On the authentication screen, log into Aircal with your username and password, if you are not already logged in",
      "handler": "oauth",
      "url": "/auth",
      "options": {
        "tokenInUrl": true,
        "name": "Aircall",
        "strategy": {
          "redirect_uri": "https://hull-aircall-staging.herokuapp.com/auth/callback",
          "response_type": "code",
          "scope": [
            "public_api"
          ]
        }
      }
    },
    {
      "name": "access_token",
      "title": "Access Token",
      "type": "string",
      "format": "hidden"
    },
    {
      "title": "Preferred email Label",
      "description": "Enter the label of the email you want to use as the main identifier (For instance 'Work' or 'Main'). If contact doesn't have it, we'll fetch the first email we find",
      "name": "preferred_email",
      "format": "string",
      "type": "string"
    }
  ],
  "resources": [],
  "subscriptions": [],
  "settings_sections": [
    {
      "title": "Credentials",
      "description": "Setup Aircall Webhook to capture events",
      "step": "credentials",
      "properties": [
        "private_settings.oauth"
      ]
    },
    {
      "title": "Configuration",
      "description": "Please begin by authenticating this connector with Aircall. ",
      "properties": [
        "private_settings.preferred_email"
      ]
    }
  ],
  "incoming": [
    {
      "url": "/webhooks/:connectorId/:token",
      "handler": "incomingHandler"
    }
  ],
  "status": {
    "initial_value": "setupRequired",
    "url": "/status",
    "type": "cron",
    "value": "*/30 * * * *",
    "handler": "statusHandler"
  },
  "statuses": [
    {
      "url": "/status",
      "type": "cron",
      "value": "*/30 * * * *",
      "handler": "statusHandler"
    }
  ]
}
